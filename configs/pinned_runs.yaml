# Pinned Runs Registry — Single source of truth for the Project Hub dashboard
# Edit this file to add/update pinned runs. Run build_site.py to refresh the HTML.
#
# Sleeves structure: metasleeves are level-1 (trend, csmom, vrp, vx_carry, curve_rv).
# VRP atomic sleeves (vrp_core, vrp_convergence, vrp_alt) are grouped under vrp metasleeve.
# vrp_core, vrp_convergence, vrp_alt must never appear at metasleeve level.
#
# Weight source-of-truth: VRP metasleeve weight is DERIVED (sum of atomic weights).
# Store only atomic_sleeves with weights; builder computes VRP total. No drift.

runs:
  - run_id: phase3b_baseline_traded_20260120_093953
    label: "Phase 3B traded baseline (post-allocator)"
    display_name: "Core v9 – traded production baseline (post-allocator)"
    category: production
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase3b_baseline_traded.yaml
    git_commit: ""  # populated by extract_metrics if run artifacts exist
    description: "Current reference baseline. Post-allocator traded curve; RT target_vol 0.42; allocator v1 precomputed applied."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.5244 }
        - { name: csmom, weight: 0.2185 }
        - { name: vrp, atomic_sleeves: [{ name: vrp_core, weight: 0.06555 }, { name: vrp_convergence, weight: 0.02185 }, { name: vrp_alt, weight: 0.1311 }] }
        - { name: vx_carry, weight: 0.046 }
        - { name: curve_rv, weight: 0.08 }
    artifacts:
      summary_md: docs/pinned/phase3b_baseline_traded_20260120_093953.md

  - run_id: phase3b_baseline_artifacts_only_20260120_093953
    label: "Phase 3B artifacts-only baseline"
    display_name: "Core v9 – artifacts-only baseline"
    category: production
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase3b_baseline_artifacts_only.yaml
    git_commit: ""
    description: "Pre-allocator reference; construction curve without allocator scaling."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.5244 }
        - { name: csmom, weight: 0.2185 }
        - { name: vrp, atomic_sleeves: [{ name: vrp_core, weight: 0.06555 }, { name: vrp_convergence, weight: 0.02185 }, { name: vrp_alt, weight: 0.1311 }] }
        - { name: vx_carry, weight: 0.046 }
        - { name: curve_rv, weight: 0.08 }
    artifacts:
      summary_md: docs/pinned/phase3b_baseline_artifacts_only_20260120_093953.md

  - run_id: v1_frozen_baseline_20200106_20251031_20260213_190700
    label: "V1 frozen production baseline"
    display_name: "V1 Frozen – Production baseline (no VRP, no SR3 spread carry)"
    category: production
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_v1_frozen.yaml
    git_commit: ""
    description: "Authoritative V1 stack for paper-trading hardening. Metasleeves: trend, csmom, sr3_curve_rv, vx_calendar_carry only."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.578 }
        - { name: csmom, weight: 0.244 }
        - { name: curve_rv, weight: 0.089 }
        - { name: vx_carry, weight: 0.089 }
    artifacts:
      summary_md: docs/pinned/v1_frozen_baseline_20200106_20251031_20260213_190700.md

  - run_id: trend_only_20200106_20251031_20260214_120000
    label: "Trend-only canonical V1 (diagnosis)"
    display_name: "Trend-only – tsmom_multihorizon only (weight 1.0)"
    category: engine_quality
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_trend_only_canonical_v1.yaml
    git_commit: ""
    description: "Diagnosis run: trend sleeve in isolation. Same window as V1 frozen. RT sample covariance."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 1.0 }
    artifacts:
      summary_md: ""

  - run_id: trend_only_ewma_20200106_20251031_20260213_212931
    label: "Trend-only canonical V1 (EWMA cov)"
    display_name: "Trend-only EWMA – tsmom_multihorizon, RT EWMA covariance"
    category: engine_quality
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_trend_only_canonical_v1_ewma.yaml
    git_commit: ""
    description: "Same as trend-only with risk_targeting.cov_estimator=ewma, ewma_lambda=0.94."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 1.0 }
    artifacts:
      summary_md: ""

  - run_id: phase3a_statistical_baseline_governed_20251031
    label: "Phase 3A statistical baseline (governed)"
    display_name: "Phase-3A engine-quality statistical baseline"
    category: engine_quality
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/canonical_frozen_stack_precomputed.yaml
    git_commit: ""
    description: "Phase 3A governed baseline; policy + RT + allocator governance; eval 2020-03-20 to 2025-10-31."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.5244 }
        - { name: csmom, weight: 0.2185 }
        - { name: vrp, atomic_sleeves: [{ name: vrp_core, weight: 0.06555 }, { name: vrp_convergence, weight: 0.02185 }, { name: vrp_alt, weight: 0.1311 }] }
        - { name: vx_carry, weight: 0.046 }
        - { name: curve_rv, weight: 0.08 }
    artifacts:
      summary_md: docs/pinned/phase3a_statistical_baseline_governed_20251031.md

  - run_id: vrp_vxlegs_canonical
    label: "VRP VX legs canonical (VX2–VX1 spread)"
    display_name: "VRP VX legs canonical (VX2–VX1 spread)"
    category: diagnostic
    window:
      start: "2020-01-01"
      end: "2024-10-31"
    config_path: configs/phase4_vrp_baseline_v1.yaml
    git_commit: ""
    description: "VRP-only canonical run with restored VX2–VX1 spread geometry for Convergence sleeve."
    expected_universe: 13
    sleeves:
      metasleeves:
        - { name: vrp, atomic_sleeves: [{ name: vrp_core, weight: 0.06555 }, { name: vrp_convergence, weight: 0.02185 }, { name: vrp_alt, weight: 0.1311 }] }
    artifacts:
      summary_md: docs/pinned/vrp_vxlegs_canonical.md

  - run_id: trend_only_canonical_2020_2024
    label: "Trend-only canonical (2020–2024)"
    display_name: "Trend-only canonical (2020–2024)"
    category: integration
    window:
      start: "2020-01-01"
      end: "2024-10-31"
    config_path: configs/phase4_trend_only_canonical_v1.yaml
    git_commit: ""
    description: "Trend (TSMOM) Meta-Sleeve only for apples-to-apples comparison vs Trend+VRP."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 1.0 }
    artifacts:
      summary_md: docs/pinned/trend_only_canonical_2020_2024.md

  - run_id: trend_plus_vrp_canonical_2020_2024
    label: "Trend+VRP canonical (2020–2024)"
    display_name: "Trend + VRP canonical (2020–2024)"
    category: integration
    window:
      start: "2020-01-01"
      end: "2024-10-31"
    config_path: configs/phase4_trend_plus_vrp_canonical_v1.yaml
    git_commit: ""
    description: "Trend + VRP Meta-Sleeves; VRP uses corrected VX2−VX1 convergence geometry."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.6 }
        - { name: vrp, atomic_sleeves: [{ name: vrp_core, weight: 0.1 }, { name: vrp_convergence, weight: 0.05 }, { name: vrp_alt, weight: 0.25 }] }
    artifacts:
      summary_md: docs/pinned/trend_plus_vrp_canonical_2020_2024.md

  - run_id: vrp_eq_trend_plus_vrp_20200106_20251031_20260213_131905
    label: "VRP engine-quality (Trend+VRP only)"
    display_name: "VRP engine-quality – Trend + VRP only (2020-01-06 to 2025-10-31)"
    category: engine_quality
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_trend_plus_vrp_canonical_v1.yaml
    git_commit: ""
    description: "Governed VRP evaluation run #1: Trend (control) + VRP only; strict_universe; canonical window."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.6 }
        - { name: vrp, atomic_sleeves: [{ name: vrp_core, weight: 0.15 }, { name: vrp_convergence, weight: 0.05 }, { name: vrp_alt, weight: 0.2 }] }
    artifacts:
      summary_md: ""

  - run_id: vrp_int_trend_plus_vrp_20200106_20251031_20260213_132033
    label: "VRP integration (Trend+VRP only)"
    display_name: "VRP integration – Trend + VRP only (2020-01-06 to 2025-10-31)"
    category: integration
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_trend_plus_vrp_canonical_v1.yaml
    git_commit: ""
    description: "Governed VRP evaluation run #2: integration check; same composition as engine-quality run."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.6 }
        - { name: vrp, atomic_sleeves: [{ name: vrp_core, weight: 0.15 }, { name: vrp_convergence, weight: 0.05 }, { name: vrp_alt, weight: 0.2 }] }
    artifacts:
      summary_md: ""

  - run_id: carry_eq_trend_plus_carry_20200106_20251031_20260213_145229
    label: "Carry V1 engine-quality (Trend+Carry only)"
    display_name: "Carry V1 engine-quality – Trend + Carry (SR3 + VX) (2020-01-06 to 2025-10-31)"
    category: engine_quality
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_trend_plus_carry_canonical_v1.yaml
    git_commit: ""
    description: "Carry V1 governed eval run #1: Trend + SR3 calendar carry + VX calendar carry only."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.75 }
        - { name: vx_carry, weight: 0.10 }
    artifacts:
      summary_md: ""

  - run_id: carry_int_v1stack_no_vrp_plus_carry_20200106_20251031_20260213_150500
    label: "Carry V1 integration (V1 stack no VRP + Carry)"
    display_name: "Carry V1 integration – Trend + CSMOM + Curve RV + Carry (2020-01-06 to 2025-10-31)"
    category: integration
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_v1_stack_no_vrp_plus_carry.yaml
    git_commit: ""
    description: "Carry V1 governed eval run #2: trend + csmom + curve_rv + carry; no VRP."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.52 }
        - { name: csmom, weight: 0.22 }
        - { name: curve_rv, weight: 0.08 }
        - { name: vx_carry, weight: 0.08 }
    artifacts:
      summary_md: ""

  - run_id: carry_eq_trend_plus_vx_and_sr3spread_20200106_20251031_20260213_152338
    label: "Carry EQ Trend + VX + SR3 calendar spread"
    display_name: "Phase-4 engine-quality: Trend + VX carry + SR3 calendar spread carry (R2−R1)"
    category: engine_quality
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_trend_plus_carry_vx_plus_sr3spread.yaml
    git_commit: ""
    description: "SR3 calendar spread carry sleeve (Phase-2 promoted); sr3_carry_curve disabled."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.75 }
        - { name: vx_carry, weight: 0.10 }
        - { name: sr3_calendar_spread_carry, weight: 0.15 }
    artifacts:
      summary_md: ""

  - run_id: carry_int_v1stack_no_vrp_plus_vx_and_sr3spread_20200106_20251031_20260213_152417
    label: "Carry Int V1 stack + VX + SR3 calendar spread"
    display_name: "Phase-4 integration: V1 stack (no VRP) + VX carry + SR3 calendar spread carry"
    category: integration
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_v1_stack_no_vrp_plus_carry_vx_plus_sr3spread.yaml
    git_commit: ""
    description: "Trend + CSMOM + Curve RV + VX + SR3 calendar spread; sr3_carry_curve disabled."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.52 }
        - { name: csmom, weight: 0.22 }
        - { name: curve_rv, weight: 0.08 }
        - { name: vx_carry, weight: 0.08 }
        - { name: sr3_calendar_spread_carry, weight: 0.10 }
    artifacts:
      summary_md: ""

  - run_id: v1_ab_no_vrp_no_carry_20200106_20251031_20260213_152911
    label: "V1 A/B no carry (baseline)"
    display_name: "V1 stack (no VRP) no carry — A/B baseline"
    category: integration
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_v1_stack_no_vrp_no_carry.yaml
    git_commit: ""
    description: "Trend + CSMOM + Curve RV only; VX and SR3 carry disabled."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.634 }
        - { name: csmom, weight: 0.268 }
        - { name: curve_rv, weight: 0.098 }
    artifacts:
      summary_md: ""

  - run_id: v1_ab_no_vrp_plus_vx_carry_20200106_20251031_20260213_152950
    label: "V1 A/B + VX carry only"
    display_name: "V1 stack (no VRP) + VX carry only — A/B test"
    category: integration
    window:
      start: "2020-01-06"
      end: "2025-10-31"
    config_path: configs/phase4_v1_stack_no_vrp_plus_vx_carry.yaml
    git_commit: ""
    description: "Trend + CSMOM + Curve RV + VX carry; SR3 carry disabled."
    expected_universe: 16
    sleeves:
      metasleeves:
        - { name: trend, weight: 0.578 }
        - { name: csmom, weight: 0.244 }
        - { name: curve_rv, weight: 0.089 }
        - { name: vx_carry, weight: 0.089 }
    artifacts:
      summary_md: ""
