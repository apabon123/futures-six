# MarketData Broker Configuration
# Read-only connection to continuous futures OHLCV database

db:
  # Use relative path from project root (sibling project)
  # Windows: C:/Users/alexp/OneDrive/Gdrive/Trading/GitHub Projects/databento-es-options/data/silver
  # macOS: ../databento-es-options/data/silver
  path: "../databento-es-options/data/silver"
  engine: "auto"  # auto-detect: duckdb or sqlite

# Universe: Thirteen continuous futures
# Using calendar-based roll (2 days before expiry) or volume-weighted roll
universe:
  # Equity Index
  ES:  { roll: calendar }
  NQ:  { roll: calendar }
  RTY: { roll: calendar }
  # Rates
  ZT:  { roll: volume }
  ZF:  { roll: volume }
  ZN:  { roll: volume }
  UB:  { roll: volume }
  SR3: { roll: calendar, roll_offset_bdays: -2 }  # SOFR (IMM, roll T-2)
  # Commodities
  CL:  { roll: volume }
  GC:  { roll: volume }
  # FX
  6E:  { roll: calendar }
  6B:  { roll: calendar }
  6J:  { roll: calendar }

# VX Instruments (VRP sleeve) â€” loaded from market_data table via timestamp column
# These are continuous VX futures contracts, separate from the main OHLCV pipeline.
# Keys are portfolio-level symbols; db_symbol maps to actual DB symbol in market_data table.
# Mapping MUST match src/market_data/vrp_loaders.py: VX_FRONT=101XN, VX_SECOND=201XN, VX_THIRD=301XN
# Used consistently in: VRP features, carry curve (VX2-VX1, VX3-VX2), crisis sleeve.
vx_universe:
  VX1: "@VX=101XN"   # VX front month
  VX2: "@VX=201XN"   # VX second month
  VX3: "@VX=301XN"   # VX third month

# Default parameters for data methods
defaults:
  vol_lookbacks: [21, 63, 252]
  cov_lookback: 252
  return_method: "log"
  roll_jump_threshold_bp: 100

# Logging
logging:
  level: "DEBUG"
  prefix: "[READ-ONLY]"

